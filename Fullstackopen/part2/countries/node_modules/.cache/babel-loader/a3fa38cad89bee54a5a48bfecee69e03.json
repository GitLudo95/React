{"ast":null,"code":"var _jsxFileName = \"/Users/ludo/React/part2/countries/src/app.js\";\nimport './index.css';\nimport React, { useState, useEffect, Fragment } from 'react';\nimport axios from 'axios';\nimport Input from '@material-ui/core/Input';\n\nconst Search = props => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  const getSearchResults = (countries, searchTerm) => {\n    return countries.filter(country => {\n      return country.name.toUpperCase().includes(searchTerm.toUpperCase());\n    });\n  };\n\n  const updateSearchInput = event => {\n    setSearchTerm(event.target.value);\n    setSearchResults(getSearchResults(props.countries, searchTerm));\n  };\n\n  const showResults = results => {\n    if (results.length > 10) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 14\n        }\n      }, \"Too many matches, specify another filter\");\n    } else if (results.length > 1 && results.length <= 10) {\n      return results.map(country => {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: country.numericCode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 11\n          }\n        }, country.name);\n      });\n    } else if (results.length === 1) {\n      const country = results[0];\n      console.log(country);\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }, country.name), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }\n      }, \"capital \", country.capital), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }\n      }, \"population \", country.population), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }\n      }, \"languages\"), country.languages.map(language => {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: language.iso639_2,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }\n        }, language.name);\n      }));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"Search\",\n    value: searchTerm,\n    type: \"text\",\n    placeholder: \"enter a country\",\n    onInput: updateSearchInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  }, showResults(searchResults)));\n};\n\nconst App = () => {\n  const [countries, setCountries] = useState([]);\n\n  const hook = () => {\n    axios.get('https://restcountries.eu/rest/v2/all').then(response => {\n      console.log('promise fulfilled', response.data);\n      setCountries(response.data);\n    });\n  };\n\n  useEffect(hook, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    countries: countries,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/ludo/React/part2/countries/src/app.js"],"names":["React","useState","useEffect","Fragment","axios","Input","Search","props","searchTerm","setSearchTerm","searchResults","setSearchResults","getSearchResults","countries","filter","country","name","toUpperCase","includes","updateSearchInput","event","target","value","showResults","results","length","map","numericCode","console","log","capital","population","languages","language","iso639_2","App","setCountries","hook","get","then","response","data"],"mappings":"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","sourcesContent":["import './index.css';\n\nimport React, { useState, useEffect, Fragment } from 'react'\nimport axios from 'axios'\n\nimport Input from '@material-ui/core/Input';\n\nconst Search = (props) => {\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  const getSearchResults = (countries, searchTerm) => {\n    return countries.filter((country) => {\n      return country.name.toUpperCase().includes(searchTerm.toUpperCase());\n    });\n  }\n\n  const updateSearchInput = (event) => {\n    setSearchTerm(event.target.value);\n    setSearchResults(getSearchResults(props.countries, searchTerm));\n  }\n\n  const showResults = (results) => {\n    if(results.length > 10) {\n      return <p>Too many matches, specify another filter</p>;\n    } else if(results.length > 1 && results.length <= 10) {\n      return results.map((country) => {\n        return (\n          <li \n            key={country.numericCode}>{country.name}\n          </li>)\n      })\n    } else if(results.length === 1) {\n      const country = results[0];\n      console.log(country);\n      return(\n        <Fragment>\n          <h1>{country.name}</h1>\n          <p>capital {country.capital}</p>\n          <p>population {country.population}</p>\n          <h2>languages</h2>\n          {country.languages.map((language) => {\n            return (\n              <li \n                key={language.iso639_2}>{language.name}\n              </li>)\n            })}\n        </Fragment>\n      )\n    }\n  }\n\n  return(\n    <Fragment>\n      <div>\n        <Input name='Search' value={searchTerm} type=\"text\" placeholder='enter a country' onInput={updateSearchInput}/>\n      </div>\n    <br></br>\n     <div>\n       {showResults(searchResults)}\n     </div>\n    </Fragment>\n  )\n}\n\nconst App = () => {\n\n  const [countries, setCountries] = useState([]);\n\n  const hook = () => {\n    axios\n      .get('https://restcountries.eu/rest/v2/all')\n      .then(response => {\n        console.log('promise fulfilled', response.data);\n        setCountries(response.data);\n      })\n  }\n\n  useEffect(hook, []);\n\n  return (\n    <div>\n      <Search countries={countries} />\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}